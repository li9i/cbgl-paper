This section serves the testing of Hypothesis \ref{hpt:hypothesis_h} under
state of the global localisation art methods and CBGL, in varying environmental
conditions and sensor configurations. With regard to CBGL its three required
parameters are set to $(d_{\bm{l}},d_{\alpha},k) = (40, 2^5, 10)$ after
preparatory tests with the dataset tested against in subsection
\ref{subsec:exp_in_re_co}. The rationale of choosing appropriate
$d_{\bm{l}},d_{\alpha}$ is depicted in figure \ref{fig:a:determine_40_32}, and
$k$ was chosen as such in order to retain a high-enough true positive discovery
rate without significant increase in execution time (due to the application of
scan--to--map-scan matching on $k$ pose estimates). Furthermore references to
sets $\mathcal{H}_{\ast}$ are made to lines \ref{alg:cbgl:h},
\ref{alg:cbgl:h1}, and \ref{alg:cbgl:h2} of Algorithm \ref{alg:cbgl}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Experiments in real conditions}
\label{subsec:exp_in_re_co}

The first type of tests are conducted with the use of a Hokuyo UTM-30LX
sensor, whose angular range is $\lambda = 3\pi/2$ rad and maximum range
$r_{\max} = 30.0$ m, in the  Electrical and Computer Engineering Department's
Laboratory of Computer Systems Architecture (CSAL), Aristotle University of
Thessaloniki, Greece, a map of which is depicted in figure
\ref{fig:a:map_and_trajectory}. The sensor was mounted on a Robotnik RB1 robot,
which was teleoperated to move within the environment while range scans were
being captured. This resulted in $N_{S}=6669$ range scans, whose number of rays
are downsampled by a factor of four before being inputted to CBGL and ALS
\cite{als_jp}, an algorithm which implements Free-Space Features
\cite{als_eth}. CBGL's internal scan--to--map-scan matching method is chosen
to be PLICP \cite{Censi2008c} due to its low execution time and the scans'
non-panoramic field of view.  Other global localisation methods ?? were not to
tested for this type of experiment due to their infeasible execution time with
respect to the range dataset's volume. The top of figure \ref{fig:a:awesomeness}
depicts the proportion of output pose estimates from each method whose position
and orientation error is lower than varying values of outlier thresholds
$\delta_{\bm{l}}$, $\delta_{\theta}$; at the bottom they are depicted
exclusively with regard to CBGL's output and its internal pose sets. The mean
and standard deviation of the two methods' execution times are
$(\mu_t^{\text{ALS}}, \sigma_t^{\text{ALS}}) = (6.15, 5.32)$ sec,
and $(\mu_t^{\text{CBGL}}, \sigma_t^{\text{CBGL}}) = (1.61, 0.06)$
sec. From the experimental evidence it is clear that (a) hypothesis
\ref{hpt:hypothesis_h} is observed to be true $991$ times out of a thousand for
an outliers' locational threshold $\delta_{\bm{l}} = 0.5$ m when an angular
threshold is $\delta_{\theta}$ is not considered, and (b) CBGL outperforms ALS
in terms of number of pose estimates within all locational and angular
thresholds and in terms of execution time.

\begin{figure}
  \input{./figures/experiments/a/determine_40_32.tex}
  \caption{\small Top row and right column: histograms of the number of times
           when exactly $n \in [0,k] = [0,10]$ pose estimates belonging to set
           $\mathcal{H}_1$ exhibited pose errors lower than $\delta =
           (\delta_{\bm{l}}^2 + \delta_{\theta}^2)^{1/2} =  (0.3^2 +
           0.4^2)^{1/2} = 0.5$ (m$^2$ + rad$^2$)$^{1/2}$. For densities
           $(d_{\bm{l}},d_{\alpha}) = (40, 2^5)$ this number is strictly
           increasing with $n$. Middle block: percent proportion of pose
           estimates whose pose error is lower than $\delta$ for varying field
           densities. Bottom block: the distribution of corresponding execution
           times}
  \label{fig:a:determine_40_32}
\end{figure}


\begin{figure}
  \input{./figures/experiments/a/trajectory.tex}
  \caption{\small The map of the CSAL environment (black), the trajectory of
           the sensor (blue), and CBGL's estimated positions of the sensor
           (green). Sensor poses for which CBGL's output exhibits position error
           larger than $\delta_{\bm{l}} = 0.5$ m are marked with red, sources
           of great range noise with cyan, and regions around doors with
           purple. Estimation is performed for each sensor pose independently
           of previous estimates or measurements}
  \label{fig:a:map_and_trajectory}
\end{figure}

\begin{figure}
  \input{./figures/experiments/a/awesomeness.tex}
  \vspace{0.1cm}
  \caption{\small Proportions of pose estimates whose
           position and orientation error is lower than corresponding thresholds
           $\delta_{\bm{l}}$ and $\delta_{\theta}$. Top: ALS vs CBGL. Bottom:
           CBGL and internal pose estimate sets; the improvement in position
           and orientation induced by scan--to--map-scan matching is captured
           by the difference between the output (i.e.
           $\mathcal{H}_2[\arg \min f_{\psi}^{\bm{M}}(\mathcal{H}_2)]$) and
           $\mathcal{H}_1[\arg \min f_{\psi}^{\bm{M}}(\mathcal{H}_2)]$.
           Approximately $77\%$ of all bottom-$k$ pose
           estimates---the contents of $\mathcal{H}_1$ sets, populated via rank
           fields as described in sections \ref{section:definitions} and
           \ref{section:the_proposed_method}---exhibit position errors lower
           than $\delta_{\bm{l}} = 0.5$ m for $k=10$, and so do over $99\%$ of
           CBGL's final pose estimates}
  \label{fig:a:awesomeness}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Simulations against sources of uncertainty}

The second type of tests concerns the main limiting factors of global
localisation methods, i.e. uncertainty---arising e.g. from spurious
measurements, repeatability of surroundings, missing range information, or
their combinations. For this reason the experimental procedure of
\cite{Filotheou2022g} is repeated here for the two methods tested therein,
PGL-FMIC and PGL-PLICP, and CBGL, ALS, MCL \cite{mcl}, and GMCL \cite{gmcl}.
Specifically these methods are tested against the two most challenging
environments, i.e. WAREHOUSE and WILLOWGARAGE, in which a panoramic range
sensor is placed at $16$ different poses for $N = 100$ independent attempts at
global localisation per tested method. The tests are conducted with the use of
a sensor whose number of rays $N_s = 360$ and maximum range $r_{\max} = 10.0$
m.  CBGL's internal scan--to--map-scan matching method is chosen to be
\texttt{x1} \cite{Filotheou2023a} exactly due to the periodicity of the range
signal, \texttt{x1}'s improved results over scan--to--map-scan matching state
of the art methods, and its ability in matching scans captured from greater
initial locational distances than ICP alternatives. The latter translates to
the need for smaller initial hypothesis sets: for each environment the
locational density is set to $3$\texttt{e}+04 divided by the free space area of
each environment.

The geometry of environment WAREHOUSE is such that the maximum range of the
sensor causes (disorderly) lack of sampling of the sensor's surrounding
environment, which may therefore produce spurious measurements and increase
ambiguities. In WILLOWGARAGE on the other hand, almost all sensor placements
result in complete sampling of its surroundings, but the sensor is purposefully
posed in such conditions as to challenge the localisation methods' ability to
perform fine distinctions between similar surroundings. Figure
\ref{fig:b:inliers_per_pose} depicts the percentage of cases where the output
pose's position error is lower than $\delta_{\bm{l}} = 1.0$ m, and figure
\ref{fig:b:execution_times} depicts the distribution of execution times per
tested environment and algorithm. CBGL's mean execution time in environment
WAREHOUSE is $\mu_t^W = 7.98$ sec and in WILLOWGARAGE $\mu_t^{G} = 3.59$ sec.
Although the cardinality of set $\mathcal{H}$ is equal for both environments
CBGL's execution times are reversed due to \texttt{x1}'s increased execution
time when dealing with scans with missing range information. Notwithstanding,
CBGL manages to overall exhibit the highest inlier rate for each pose in
WAREHOUSE, and consistently high inlier rates in WILLOWGARAGE.


\begin{figure}
  \input{./figures/experiments/b/inliers_per_pose.tex}
  \caption{\small Percent proportions of pose outputs whose position error is
           lower than $\delta_{\bm{l}} = 1.0$ m per tested environment, pose,
           and method. Overall CBGL features the highest number of inlier poses}
  \label{fig:b:inliers_per_pose}
\end{figure}

\begin{figure}
  \input{./figures/experiments/b/exec_times.tex}
  \vspace{0.1cm}
  \caption{\small Distribution of execution times per tested environment and
           algorithm in seconds for $N_s = 360$ rays. CBGL's execution time is
           at least eighteen times lower than other Monte Carlo approaches in
           WILLOWGARAGE and four times lower in WAREHOUSE}
  \label{fig:b:execution_times}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Simulations against environment disparity and choice of scan--to--map-scan matching methods}

\begin{figure}
  \input{./figures/experiments/c/errors.tex}
  \vspace{0.6cm}
  \caption{\small}
  \label{fig:}
\end{figure}
